{% extends "base.html" %}
{% block content %}
    <h1>Settings: {{ quiz_name }}</h1>
    <div id="content">
    </div>
    <button class="btn btn-danger active my-2" onclick="window.history.back(-1);return false;">Back</button>
    <form action="/quizzes/{{quiz_id}}/settings" method="post">
        <label for="title" class="form-label">Title</label>
        <input type="text" name="title" class="form-control mb-1" id="title" value="{{quiz_name}}" required/>

        <label for="access_code" class="form-label">Access Code</label>
        <input type="text" name="access_code" class="form-control  mb-1" id="access_code" value="{{quiz_access_code}}" required/>
        <label for="limited_time" class="form-label">Limited Time</label>
        <input type="text" name="limited_time" class="form-control  mb-1" id="limited_time" value="{{quiz_limited_time}}" required/>
        <label for="visibility" class="form-label">Visibility</label>
        <select class="form-select  mb-1" name="visibility" id="visibility">
            <option id="public">Public</option>
            <option id="private">Private</option>
        </select>
        <label for="num_of_questions" class="form-label">Number of Questions</label>
        <input type="number" name="num_of_questions" class="form-control  mb-1" id="num_of_questions" 
          required min="1" max="{{quiz_max_questions}}" onkeyup="if (this.value > {{quiz_max_questions}}) this.value = null;"/>

        <button type="submit" class="btn btn-primary">Submit</button>
    </form>

    <script>
        console.log("{{quiz_visibility}}")

        if ("{{quiz_visibility}}" == "Public") {
            console.log("public")
            document.getElementById("public").setAttribute("selected", "")
        } 
        else if ("{{quiz_visibility}}" == "Private") {
            console.log("private")
            document.getElementById("private").setAttribute("selected", "")
        }
    </script>
{% endblock %}

